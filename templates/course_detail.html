{% extends "base.html" %}

{% block content %}
    {% if course %}

        {% if is_admin %}
            <div class="admin-controls" style="background: #f4f4f4; padding: 10px; margin-bottom: 15px; border-radius: 5px;">
                <strong>Admin Controls:</strong>
                
                <a href="/edit-course/{{ course.id }}" style="margin-left: 15px;">Edit Course</a>

                <form action="/delete-course/{{ course.id }}" method="POST" style="display: inline; margin-left: 15px;">
                    <input type="submit" value="Delete Course" onclick="return confirm('ARE YOU SURE you want to permanently delete this course?');" style="background: #f4f4f4; padding: 10px; margin-bottom: 15px; border: none; color: red; cursor: pointer;">
                </form>
            </div>
        {% endif %}
        <h1>{{ course.title }}</h1>
        <p>{{ course.description }}</p>

        {% if embed_url %}
            <div class="video-container" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000;">
                <iframe 
                    src="{{ embed_url }}" 
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
        {% else %}
            <p><em>(No video provided for this course.)</em></p>
        {% endif %}

    {% else %}
        <h1>Course Not Found</h1>
        <p>Sorry, we couldn't find the course you were looking for.</p>
    {% endif %}
{% endblock %}